<!DOCTYPE html>
<html>
    <head >
        <title></title>
        <meta charset ="utf-8" />
        <script src="Scripts/jquery-1.7.1.js"></script>
        <script type="text/javascript">
            $(document).ready(function () {
                var ulEmployees = $('#ulEmployees');


                $('#btn').click(function () {
                    var username = $('#txtusername').val();
                    var password = $('#txtpassword').val();
                    $.ajax({
                        type: 'GET',
                        url: 'http://localhost:64948/api/employee/',
                        dataType: 'json',
                        header:{
                            'Authorization' :'Basic '+btoa(username +":" +password)
                        },
                        success: function (data) {
                            ulEmployees.empty();
                            $.each(data, function (index, val) {
                                var fullname = val.firstname + ' ' + val.lastname;
                                ulEmployees.append('<li>' + fullname + '('+val.gender +')</li>')
                            });
                        },
                        complete: function (jqXHR) {
                            if (jqXHR.status == '401') {
                                ulEmployees.empty();
                                ulEmployees.append('<li style="color:red">' + jqXHR.status + ' :' + jqXHR.statusText + '</li>');
                            }
                        }
                    });
                });
                $('#btnClear').click(function () {
                    ulEmployees.empty();
                });
            });
        </script>
    </head>
    <body>
        <div>
            Username: <input type="text" id="txtusername"/>
            Password:<input type="text" id="txtpassword">
            <br /><br />
        </div>
        <input id="btn" type="button" value ="Get All Employees" />
        <input id ="btnClear" type="button" value="Clear" />
        <ul id="ulEmployees"></ul>
    </body>
</html>